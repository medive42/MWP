jQuery(document).ready(function(e){function t(t){e("#"+t).hide().siblings(".CodeMirror").remove();CodeMirror.fromTextArea(document.getElementById(t),{tabMode:"indent",mode:"xml",lineNumbers:!0,lineWrapping:!0,theme:"monokai",onChange:function(e){e.save()}})}var i=function(e){if(jQuery("#compatibilityWarning").remove(),jQuery(".metaslider .slide:not(."+e+")").length){var t=s(e)+" Slider is only compatible with Image and Post Feed slides.",i=jQuery("<div id='compatibilityWarning' class='updated'><p><b>Warning:</b> "+t+"</p></div>");jQuery(".metaslider .left").prepend(i)}},s=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};e(".metaslider").on("click",".select-slider",function(){i(jQuery(this).attr("rel"))}),i(jQuery(".metaslider .select-slider:checked").attr("rel")),e(".metaslider").on("click",".slide.layer_slide li[rel='tab-4']",function(){var i=e(this).parent().siblings(".tabs-content"),s=e(".tab-4 textarea",i).attr("id");setTimeout(t(s),50)}),e(".slide.post_feed .wysiwyg").each(function(){var i=e(this).attr("id");setTimeout(t(i),50)}),e(".metaslider table#metaslider-slides-list").live("slideAdded",function(i){e(".slide.post_feed .wysiwyg").each(function(){var i=e(this).attr("id");setTimeout(t(i),50)})}),e(".metaslider").on("change",".external input.extimgurl",function(){var t=e(this).val();e(this).parents(".slide").find(".thumb").css("background-image","url("+t+")")}),e(".metaslider").on("click","button.hide-slide input[type=checkbox]",function(e){e.stopPropagation()}),e(".metaslider").on("click","button.hide-slide",function(t){t.stopPropagation(),e(this).find("input[type=checkbox]").trigger("click"),e(this).closest("tr.slide").toggleClass("slide-is-hidden",e(this).find("input[type=checkbox]").is(":checked"))}),e(".metaslider select[name='template_tags']").live("change",function(t){t.preventDefault();var i=e(this).val(),s=e(this).closest(".tab").find(".CodeMirror")[0].CodeMirror;""==s.getSelection()?s.replaceRange(i,s.getCursor()):s.replaceSelection(i),s.focus()}),e(".metaslider .datepicker").datepicker({dateFormat:"yy-mm-dd"}).on("focus",function(t){e(this).datepicker("widget").offset().top>e(this).offset().top?(e(this).datepicker("widget").addClass("bottom"),e(this).datepicker("widget").removeClass("top")):(e(this).datepicker("widget").addClass("top"),e(this).datepicker("widget").removeClass("bottom"))}),e(document).on("metaslider/slides-added",function(t){e(".metaslider .datepicker").datepicker({dateFormat:"yy-mm-dd"}).on("focus",function(t){e(this).datepicker("widget").offset().top>e(this).offset().top?(e(this).datepicker("widget").addClass("bottom"),e(this).datepicker("widget").removeClass("top")):(e(this).datepicker("widget").addClass("top"),e(this).datepicker("widget").removeClass("bottom"))})}),e(".metaslider button.hide-slide input[type=checkbox]").each(function(t){e(this).closest("tr.slide").toggleClass("slide-is-hidden",e(this).is(":checked"))})});