jQuery(document).ready(function(){function t(){var t=jQuery(".nivo-prevNav, .flex-prev, .cs-prev, .rslides_nav.prev"),e=jQuery(".nivo-nextNav, .flex-next, .cs-next, .rslides_nav.next");if(jQuery("#enable_custom_arrows").is(":checked")){if(jQuery("#custom_prev_arrow_input").val()>0)var r="",o=jQuery("#custom_prev_arrow img").attr("height"),a=jQuery("#custom_prev_arrow img").attr("width"),i=jQuery("#custom_prev_arrow img").attr("src");else var r="0 -"+jQuery("#arrow_style option:selected").data("offset")+"px",o=jQuery("#arrow_style option:selected").data("height"),a=jQuery("#arrow_style option:selected").data("width"),i=jQuery("#arrow_colour option:selected").data("url");if(jQuery("#custom_prev_arrow_input").val()>0)var n="",s=jQuery("#custom_next_arrow img").attr("height"),c=jQuery("#custom_next_arrow img").attr("width"),p=jQuery("#custom_next_arrow img").attr("src");else var n="100% -"+jQuery("#arrow_style option:selected").data("offset")+"px",s=jQuery("#arrow_style option:selected").data("height"),c=jQuery("#arrow_style option:selected").data("width"),p=jQuery("#arrow_colour option:selected").data("url");var m=jQuery("#theme_arrow_opacity").val()/100;t.css("margin-top","-"+o/2+"px").css("width",a+"px").css("height",o+"px").css("padding","0").css("text-indent","-9999px").css("top","50%").css("opacity",m).css("background","transparent url("+i+") "+r).css("left",jQuery("#theme_arrow_indent").val()+"px"),e.css("margin-top","-"+s/2+"px").css("width",c+"px").css("height",s+"px").css("padding","0").css("text-indent","-9999px").css("top","50%").css("opacity",m).css("background","transparent url("+p+") "+n).css("right",jQuery("#theme_arrow_indent").val()+"px")}else t.css("cssText",""),e.css("cssText","")}function e(){jQuery("#theme_outer_border_radius").on("change",function(){jQuery(".metaslider .flexslider, .metaslider .flexslider img, .metaslider .nivoSlider, .metaslider .nivoSlider img, .metaslider .rslides, .metaslider .rslides img").css("border-radius",jQuery(this).val()+"px")}),jQuery(".metaslider").removeClass(function(t,e){return(e.match(/\beffect\S+/g)||[]).join(" ")});var t=jQuery("#shadow option:selected").val();jQuery(".theme_editor_right .metaslider").addClass(t)}jQuery("#remove_custom_prev_arrow").on("click",function(t){t.preventDefault(),jQuery("#custom_prev_arrow").html(""),jQuery("#custom_prev_arrow_input").val("0"),jQuery("#open_media_manager_prev").show(),jQuery("#remove_custom_prev_arrow").hide()}),jQuery("#open_media_manager_prev").on("click",function(t){t.preventDefault(),file_frame=wp.media.frames.file_frame=wp.media({multiple:!1,frame:"post",library:{type:"image"}}),file_frame.on("insert",function(){var t=file_frame.state().get("selection");t.map(function(t){return t=t.toJSON(),t.height>100||t.width>100?alert("Image too large. Max dimensions: 100px x 100px."):(jQuery("#custom_prev_arrow").html("<img style='max-width: 100px' src= "+t.url+">"),jQuery("#custom_prev_arrow_input").val(t.id),jQuery("#open_media_manager_prev").hide(),void jQuery("#remove_custom_prev_arrow").show())})}),file_frame.open()}),jQuery("#remove_custom_next_arrow").on("click",function(t){t.preventDefault(),jQuery("#custom_next_arrow").html(""),jQuery("#custom_next_arrow_input").val("0"),jQuery("#open_media_manager_next").show(),jQuery("#remove_custom_next_arrow").hide()}),jQuery("#open_media_manager_next").on("click",function(t){t.preventDefault(),file_frame=wp.media.frames.file_frame=wp.media({multiple:!1,frame:"post",library:{type:"image"}}),file_frame.on("insert",function(){var t=file_frame.state().get("selection");t.map(function(t){return t=t.toJSON(),t.height>100||t.width>100?alert("Image too large. Max dimensions: 100px x 100px."):(jQuery("#custom_next_arrow").html("<img style='max-width: 100px' src= "+t.url+">"),jQuery("#custom_next_arrow_input").val(t.id),jQuery("#open_media_manager_next").hide(),void jQuery("#remove_custom_next_arrow").show())})}),file_frame.open()}),jQuery(".confirm").live("click",function(){return confirm("Are you sure?")});var r=function(){var t=jQuery(".flex-control-nav a, .nivo-controlNav a, .rslides_tabs li a, .cs-buttons a"),e=jQuery(".flex-control-nav li a.flex-active, .nivo-controlNav a.active, .rslides_tabs li.rslides_here a, .cs-buttons a.cs-active");if(jQuery("#enable_custom_navigation").is(":checked")){var r=jQuery("#colourpicker-fill-start").spectrum("get").toRgbString(),o=jQuery("#colourpicker-fill-end").spectrum("get").toRgbString(),a=jQuery("#colourpicker-border-colour").spectrum("get").toRgbString();t.css("padding","0").css("box-shadow","none").css("text-indent","-9999px").css("border-style","solid").css("border-color",a).css("border-radius",jQuery("#theme_dot_border_radius").val()+"px").css("border-width",jQuery("#theme_dot_border_width").val()+"px").css("width",jQuery("#theme_dot_size").val()+"px").css("height",jQuery("#theme_dot_size").val()+"px").css("margin-left",jQuery("#theme_dot_spacing").val()+"px").css("margin-right",jQuery("#theme_dot_spacing").val()+"px").css("background","-webkit-gradient(linear, 0% 0%, 0% 100%, from("+r+"), to("+o+"))").css("background","-webkit-linear-gradient(top, "+r+", "+o+")").css("background","-moz-linear-gradient(top, "+r+", "+o+")").css("background","-ms-linear-gradient(top, "+r+", "+o+")").css("background","-o-linear-gradient(top, "+r+", "+o+")");var r=jQuery("#colourpicker-active-fill-start").spectrum("get").toRgbString(),o=jQuery("#colourpicker-active-fill-end").spectrum("get").toRgbString(),i=jQuery("#colourpicker-active-border-colour").spectrum("get").toRgbString();e.css("background","-webkit-gradient(linear, 0% 0%, 0% 100%, from("+r+"), to("+o+"))").css("background","-webkit-linear-gradient(top, "+r+", "+o+")").css("background","-moz-linear-gradient(top, "+r+", "+o+")").css("background","-ms-linear-gradient(top, "+r+", "+o+")").css("background","-o-linear-gradient(top, "+r+", "+o+")").css("border-color",i)}else t.css("cssText",""),e.css("cssText","")},o=function(){var t=jQuery(".flex-control-nav, .nivo-controlNav, .rslides_tabs, .cs-buttons");if(jQuery("#enable_custom_navigation").is(":checked")){jQuery(".metaslider").css("margin-bottom","0px");var e="padding: 0; background: transparent; position: absolute; z-index: 99; margin-top: "+jQuery("#theme_nav_vertical_margin").val()+"px; margin-bottom: "+jQuery("#theme_nav_vertical_margin").val()+"px; margin-left: "+jQuery("#theme_nav_horizontal_margin").val()+"px; margin-right: "+jQuery("#theme_nav_horizontal_margin").val()+"px; ",r=jQuery("#nav_position option:selected").val(),o=parseInt(jQuery("#theme_dot_size").val()),a=parseInt(jQuery("#theme_nav_vertical_margin").val()),i=o+2*a;"default"==r&&(t.css("cssText",e+"top: auto !important;bottom: auto !important;left: auto !important;right: auto !important;width: 100% !important;text-align: center !important"),jQuery(".metaslider").css("margin-bottom",i+"px")),"topLeft"==r&&t.css("cssText",e+"width: auto !important;bottom: auto !important;top: 0 !important;right: auto !important;left: 0 !important;"),"topCenter"==r&&t.css("cssText",e+"width: 100% !important;bottom: auto !important;top: 0 !important;right: auto !important;left: 0 !important;"),"topRight"==r&&t.css("cssText",e+"width: auto !important;bottom: auto !important;top: 0 !important;right: 0 !important;left: auto !important;"),"bottomLeft"==r&&t.css("cssText",e+"width: auto !important;bottom: 0 !important;top: auto !important;right: auto !important;left: 0 !important;"),"bottomCenter"==r&&t.css("cssText",e+"width: 100% !important;bottom: 0 !important;top: auto !important;right: auto !important;left: 0 !important;"),"bottomRight"==r&&t.css("cssText",e+"width: auto !important;bottom: 0 !important;top: auto !important;right: 0 !important;left: auto !important;")}else t.css("cssText","")},a=function(){var t=jQuery(".caption-wrap, .nivo-caption, .cs-title");if(jQuery("#enable_custom_caption").is(":checked")){var e=jQuery("#caption_position option:selected").val(),r=jQuery("#theme_caption_width").val(),o="opacity: 1; background: "+jQuery("#colourpicker-caption-background-colour").val()+"; color: "+jQuery("#colourpicker-caption-text-colour").val()+"; z-index: 1000; text-align: "+jQuery("#caption_align option:selected").val()+"; margin-top: "+jQuery("#theme_caption_vertical_margin").val()+"px; margin-bottom: "+jQuery("#theme_caption_vertical_margin").val()+"px; margin-left: "+jQuery("#theme_caption_horizontal_margin").val()+"px; margin-right: "+jQuery("#theme_caption_horizontal_margin").val()+"px; border-radius: "+jQuery("#theme_caption_border_radius").val()+"px;";"underneath"==e&&t.css("cssText",o+"width: "+r+"% !important;bottom: auto !important;top: auto !important;right: auto !important;left: auto !important;clear: both !important;position: relative !important;"),"topLeft"==e&&t.css("cssText",o+"width: "+r+"% !important;bottom: auto !important;top: 0 !important;right: auto !important;left: 0 !important;clear: none !important;position: absolute !important;"),"topRight"==e&&t.css("cssText",o+"width: "+r+"% !important;bottom: auto !important;top: 0 !important;right: 0 !important;left: auto !important;clear: none !important;position: absolute !important;"),"bottomLeft"==e&&t.css("cssText",o+"width: "+r+"% !important;bottom: 0 !important;top: auto !important;right: auto !important;left: 0 !important;clear: none !important;position: absolute !important;"),"bottomRight"==e&&t.css("cssText",o+"width: "+r+"% !important;bottom: 0 !important;top: auto !important;right: 0 !important;left: auto !important;clear: none !important;position: absolute !important;")}else t.css("cssText","")},i=function(){r(),o(),t(),e(),a()};jQuery(".colorpicker").spectrum({preferredFormat:"rgb",showInput:!0,showAlpha:!0}),jQuery(".flex-control-nav, .nivo-controlNav, .rslides_tabs, .cs-buttons, .nivo-prevNav, .flex-prev, .cs-prev, .nivo-nextNav, .flex-next, .cs-next").live("click",function(){r(),e()}),jQuery("input, select").change(function(){i()})});